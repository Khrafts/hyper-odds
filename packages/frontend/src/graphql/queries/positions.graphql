# Position queries

query GetUserPositions(
  $userId: ID!
  $first: Int = 20
  $after: String
) {
  positions(
    first: $first
    after: $after
    where: { userId: $userId }
    orderBy: { field: UPDATED_AT, direction: DESC }
  ) {
    edges {
      node {
        id
        stakeYes
        stakeNo
        market {
          id
          id
          title
          description
          poolYes
          poolNo
          resolved
          winningOutcome
        }
        user {
          id
          id
        }
      }
      cursor
    }
    pageInfo {
      hasNextPage
      endCursor
    }
    totalCount
  }
}

query GetMarketPositions(
  $marketId: ID!
  $first: Int = 20
  $after: String
) {
  positions(
    first: $first
    after: $after
    where: { marketId: $marketId }
    orderBy: { field: SHARES_YES, direction: DESC }
  ) {
    edges {
      node {
        id
        stakeYes
        stakeNo
        user {
          id
          id
        }
      }
      cursor
    }
    pageInfo {
      hasNextPage
      endCursor
    }
    totalCount
  }
}

query GetPosition($id: ID!) {
  position(id: $id) {
    id
    stakeYes
    stakeNo
    market {
      id
      id
      title
      description
      poolYes
      poolNo
      resolved
      winningOutcome
      resolveTime
    }
    user {
      id
      id
    }
  }
}