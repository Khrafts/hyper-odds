# User queries

query GetUser($id: ID!) {
  user(id: $id) {
    id
    positions {
      edges {
        node {
          id
          stakeYes
          stakeNo
          market {
            id
            title
            resolved
            winningOutcome
          }
        }
      }
      totalCount
    }
    trades {
      edges {
        node {
          id
          outcome
          shares
          amount
          timestamp
          market {
            id
            title
          }
        }
      }
      totalCount
    }
    createdMarkets {
      edges {
        node {
          id
          id
          title
          resolved
        }
      }
      totalCount
    }
  }
}

query GetUserByAddress($address: String!) {
  users(where: { id: $address }, first: 1) {
    edges {
      node {
        id
        positions {
          totalCount
        }
        trades {
          totalCount
        }
        createdMarkets {
          totalCount
        }
      }
    }
  }
}

query GetTopTraders($first: Int = 10) {
  users(
    first: $first
    orderBy: { field: TRADES_COUNT, direction: DESC }
  ) {
    edges {
      node {
        id
        trades {
          totalCount
        }
        positions {
          totalCount
        }
      }
    }
  }
}